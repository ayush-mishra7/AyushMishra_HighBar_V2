.PHONY: help venv install test lint format run clean

help:
	@echo "Available commands: install, test, lint, format, run, clean"

venv:
	python -m venv .venv

install:
	python -m pip install --upgrade pip
	pip install -r requirements.txt

test:
	pytest -q --maxfail=1

lint:
	flake8 --max-line-length=120

format:
	black .

run:
	python -m src.run

clean:
	find . -name "__pycache__" -type d -exec rm -rf {} +
	rm -rf .pytest_cache .venv build dist
